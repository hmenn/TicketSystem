<!DOCTYPE HTML5>
<html>
  <head>
    <meta charset="utf-8" />

    <title>Users</title>
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../css/ui.jqgrid-bootstrap.css"/>
    <!-- JAVASCRIPT SOURCES -->
    <script type="text/javascript" src="../js/jquery-3.1.0.min.js"></script>
    <script type="text/javascript" src="../js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../js/i18n/grid.locale-en.js"></script>
    <script type="text/javascript" src="../js/jquery.jqGrid.min.js"></script>

    <!-- core js -->
    <script type="text/javascript" src="../js/user.js"></script>
    <script type="text/javascript" src="../js/core.js"></script>

  </head>

  <body>
    <div class="container-fluid">
      <nav class="navbar navbar-default">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">TicketSystem</a>
        </div>
        <div class="collapse navbar-collapse" >
          <ul class="nav navbar-nav">
            <li id="nav_tickets"><a href="tickets.html">Tickets</a></1i>
            <li id="nav_users"  class="active"><a href="users.html">Users</a></1i>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"
              role="button" aria-haspopup="true"
              aria-expanded="false"><b id="nickname" >nickname</b><span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="profile.html">My Profile</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="#" onclick="logout()">Logout</a></li>
              </ul>
            </li>
          </ul>
        </div> <!--navbar collapse -->
      </nav>

      <nav class="navbar navbar-default">
        <div class="container-fluid collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a id="allUsers" href="users.html">All Users</a></li>
            <li><a data-toggle="modal" data-target="#myUserModal">Add User</a></li>
<!--               <button class="btn btn-info" data-toggle="modal" data-target="#myUserModal">Add New User</button> -->

          </ul>
        </div>
      </nav> <!-- mini ticket navbar-->
      <div class="row">
        <div class="col-md-8 col-md-offset-2">
          <table id="jqGrid"></table>
          <div id="jqGridPager" style="height:36px"></div>
        </div>
      </div><!-- row -->
    </div> <!-- main container fluid-->


<!-- Add User Modal -->
   <div id="myUserModal" class="modal fade" role="dialog">
     <div class="modal-dialog">
       <!-- Modal content-->
       <div class="modal-content">
         <div class="modal-header">
           <button type="button" class="close" data-dismiss="modal">&times;</button>
           <h4 class="modal-title">Add New User</h4>
         </div>
         <div class="modal-body">
           <p id="modalAddUserMessage" class="text-center text-warning lead"></p>
             <div class="form-group">
               <label>Full Name:</label>
               <input class="form-control" type="text" id="userFullName" required/>
             </div>

             <div class="form-group">
               <label>E-Mail:</label>
               <input class="form-control" type="text" id="userEmail" required/>
             </div>

             <div class="form-group">
               <label>Password:</label>
               <input class="form-control" type="text" id="userPassword" required/>
             </div>

             <div class="form-group">
               <label>Company:</label>
               <select id="userCompany"></select>
               <button class="btn btn-info" data-toggle="modal" data-target="#myModalAddCompany">Add New Company</button>
             </div>

             <div class="checkbox">
               <label class="checkbox-inline" ><input type="checkbox" name="userRole" id="adminRole" checked>Admin</label>
               <label class="checkbox-inline" ><input type="checkbox" name="userRole" id="supporterRole" >Supporter</label>
               <label class="checkbox-inline" ><input type="checkbox" name="userRole" id="clientRole">Client</label>
             </div>

         </div>
         <div class="modal-footer">
           <button class="btn btn-success" onclick="addUser()">Add User</button>
           <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
         </div>
       </div><!-- modal content -->
     </div> <!-- modal-dialog-->
   </div>
    <!-- Add User Modal -->



     <!-- Add Company Modal -->
    <div id="myModalAddCompany" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Add New Company</h4>
          </div>
          <div class="modal-body">
            <p id="modal_message">Please fill boxes to add new company.</p>
            <div class="form-group">
              <label>Name:<span class="text-danger">*</span></label>
              <input class="form-control" type="text" id="comp_name" required/>
            </div>
            <div class="form-group">
              <label>E-Mail:<span class="text-danger">*</span></label>
              <input class="form-control" type="text" id="comp_email" required/>
            </div>
            <div class="form-group">
              <label>Phone:</label>
              <input class="form-control" type="text" id="comp_phone"/>
            </div>
            <div class="form-group">
              <label>Fax:</label>
              <input class="form-control" type="text" id="comp_fax"/>
            </div>
            <div class="form-group">
              <label>Address:</label>
              <input class="form-control" type="text" id="comp_address"/>
            </div>
            <p><span class="text-danger lead">*: Required</span></p>
          </div>
          <div class="modal-footer">
            <button class="btn btn-success" onclick="addNewCompany()" data-dismiss="modal">Add</button>
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- modal content -->
      </div> <!-- modal-dialog-->
    </div>
    <!-- Add Company Modal -->



    <!-- core js -->
    <script type="text/javascript" src="../js/user.js"></script>
    <script type="text/javascript" src="../js/core.js"></script>





    <script>
      $(document).ready(function(){
        getAllUsers();
      });
    </script>
  </body>
</html>

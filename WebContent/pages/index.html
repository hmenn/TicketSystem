<!DOCTYPE HTML5>
<html>
<head>
<meta charset="utf-8" />

<title>Tickets</title>
<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css"
	href="../css/ui.jqgrid-bootstrap.css" />

<!-- JAVASCRIPT SOURCES -->
<script type="text/javascript" src="../js/jquery-3.1.0.min.js"></script>
<script type="text/javascript" src="../js/bootstrap.min.js"></script>
<script type="text/javascript" src="../js/i18n/grid.locale-en.js"></script>
<script type="text/javascript" src="../js/jquery.jqGrid.min.js"></script>

<!-- core js -->
<script type="text/javascript" src="../js/core.js"></script>
<script type="text/javascript" src="../js/ticket.js"></script>

</head>

<body>
		<nav class="navbar navbar-default">
			<div class="navbar-header">
				<a class="navbar-brand">TicketSystem</a>
			</div>
			<div class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
<!-- 					<li id="nav_tickets" class="active"><a href="tickets.html">Tickets</a></1i> -->
<!-- 					<li><a id="openedTickets" href="#">Opened Tickets</a></li> -->
<!-- 					<li><a id="closedTickets" href="#">Closed Tickets</a></li> -->
<!-- 					<li><a id="newTicket" data-toggle="modal" -->
<!-- 						data-target="#myModalNewTicket">New Ticket</a></li> -->
						
						
						<li class="dropdown"><a onClick="hideUsers()" class="dropdown-toggle"
						data-toggle="dropdown" role="button" 
						aria-expanded="false"><b id="nav_tickets">Tickets</b><span
							class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a href="#">Opened Tickets</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="#">Cloesed Tickets</a></li>
						</ul></li>
						
					
					<li id="nav_users"><a  onclick="hideTickets()">Users</a></1i>
				</ul>
				<ul class="nav navbar-nav navbar-right">
					<li class="dropdown"><a href="#" class="dropdown-toggle"
						data-toggle="dropdown" role="button" aria-haspopup="true"
						aria-expanded="false"><b id="nickname">nickname</b><span
							class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a href="profile.html">My Profile</a></li>
							<li role="separator" class="divider"></li>
							<li><a href="logout.html">Logout</a></li>
						</ul></li>
				</ul>
			</div>
			<!--navbar collapse -->
		</nav>

<div id="Tickets">

		<!-- JQGRID Test -->
		<div class="row">
			<div class="col-md-8 col-md-offset-2">
				<table id="Ticket_jqGrid"></table>
				<div id="Ticket_jqGridPager" style="height: 36px"></div>
			</div>
			<!-- com-md -->
		</div>
		<!-- row -- >
    </div> <!-- main container fluid-->



		<!--    Add Tickets Modal -->
		<div id="myModalNewTicket" class="modal fade" role="dialog">
			<div class="modal-dialog">
				<!-- Modal content-->
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title">New Ticket</h4>
					</div>
					<div class="modal-body">
						<p id="error_message" class="text-center text-warning lead"></p>


						<label>Department:</label>
						<div class="form-group">
							<select id="ticket_deparment">
								<option value="dep_sale">Sale</option>
								<option value="dep_support">Support</option>
								<option value="dep_accounting">Accounting</option>
							</select>
						</div>


						<label>Priority:</label>
						<div class="form-group">
							<select id="ticket_priority">
								<option value="prio_low">LOW</option>
								<option value="prio_normal">NORMAL</option>
								<option value="prio_high">HIGH</option>
								<option value="prio_emergency">EMERGENCY</option>
							</select>
						</div>


						<label>Subject:</label>
						<div class="form-group">
							<input type="text" size="40" id="ticket_subject"></input>
						</div>


						<label>Message:</label>
						<div class="form-group">
							<textarea rows="9" cols="60" id="ticket_message"></textarea>
						</div>

					</div>
					<div class="modal-footer">
						<button class="btn btn-success" onclick="addTicket()">Send
							Ticket</button>
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
				</div>
				<!-- modal content -->
			</div>
			<!-- modal-dialog-->
		</div>
		<!--    Add Tickets Modal -->
</div> <!-- Tickets div -->		



<div id="users">


		<div class="row">
			<div class="col-md-8 col-md-offset-2">
				<table id="Users_jqGrid"></table>
				<div id="Users_jqGridPager" style="height: 36px"></div>
			</div>
		</div>
		<!-- row -->
	</div>
	<!-- main container fluid-->


	<!-- Add User Modal -->
	<div id="myUserModal" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Add New User</h4>
				</div>
				<!-- modal header-->
				<div class="modal-body">
					<p id="modalAddUserMessage" class="text-center text-warning lead"></p>
					<div class="form-group">
						<label>Full Name:</label> <input class="form-control" type="text"
							id="userFullName" required />
					</div>

					<div class="form-group">
						<label>E-Mail:</label> <input class="form-control" type="text"
							id="userEmail" required />
					</div>

					<div class="form-group">
						<label>Password:</label> <input class="form-control" type="text"
							id="userPassword" required />
					</div>

					<div class="form-group">
						<label>Company:</label>
						<div class="row">
							<div class="col-md-6">
								<select class="form-control" id="userCompany"></select>
							</div>
							<div class="col-md-6">
								<button class="btn btn-info" data-toggle="modal"
									data-target="#myModalAddCompany">Add New Company</button>
							</div>
						</div>
						<!-- row -->

					</div>

					<div class="from-group">
						<div class="checkbox form-control">
							<label class="checkbox-inline"><input type="checkbox"
								name="userRole" id="adminRole" checked>Admin</label> <label
								class="checkbox-inline"><input type="checkbox"
								name="userRole" id="supporterRole">Supporter</label> <label
								class="checkbox-inline"><input type="checkbox"
								name="userRole" id="clientRole">Client</label>
						</div>
					</div>

					<div class="form-group" style="display: none;" id="departmentFade">
						<label for="userDepartment">Department:</label>
						<div class="row">
							<div class="col-md-6">
								<select class="form-control" id="userDepartment">
									<!-- departmanlar db den yÃ¼klenecek -->
								</select>
							</div>

							<div class="col-md-6">
								<button class="btn btn-info" data-toggle="modal"
									data-target="#myModalAddDepartment">Add New Department</button>

							</div>
						</div>
						<!-- row div- -->
					</div>
					<!-- form group div -->

				</div>
				<!-- modal body-->
				<div class="modal-footer">
					<button class="btn btn-success" onclick="addUser()">Add
						User</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
				<!-- modal footer -->
			</div>
			<!-- modal content -->
		</div>
		<!-- modal-dialog-->
	</div>
	<!-- Add User Modal -->



	<!-- Add Company Modal -->
	<div id="myModalAddCompany" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Add New Company</h4>
				</div>
				<div class="modal-body">
					<p class="text-center text-danger lead" id="addCompanyModalMessage"></p>
					<div class="form-group">
						<label>Name:<span class="text-danger">*</span></label> <input
							class="form-control" type="text" id="compName" required />
					</div>
					<div class="form-group">
						<label>E-Mail:<span class="text-danger">*</span></label> <input
							class="form-control" type="text" id="compEmail" required />
					</div>
					<div class="form-group">
						<label>Phone:</label> <input class="form-control" type="text"
							id="compPhone" />
					</div>
					<div class="form-group">
						<label>Fax:</label> <input class="form-control" type="text"
							id="compFax" />
					</div>
					<div class="form-group">
						<label>Address:</label> <input class="form-control" type="text"
							id="compAddress" />
					</div>
					<p>
						<span class="text-danger lead">*: Required</span>
					</p>
				</div>
				<div class="modal-footer">
					<button class="btn btn-success" onclick="addCompany()">Add</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
			<!-- modal content -->
		</div>
		<!-- modal-dialog-->
	</div>
	<!-- Add Company Modal -->


	<!-- Add Department Modal -->
	<div id="myModalAddDepartment" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Add New Department</h4>
				</div>
				<div class="modal-body">
					<p class="text-center text-danger lead"
						id="addDepartmentModalMessage"></p>
					<div class="form-group">
						<label>Name:<span class="text-danger">*</span></label> <input
							class="form-control" type="text" id="departmentName" required />
					</div>
					<p>
						<span class="text-danger lead">*: Required</span>
					</p>
				</div>

				<div class="modal-footer">
					<button class="btn btn-success" onclick="addDepartment()">Add</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
			<!-- modal content -->
		</div>
		<!-- modal-dialog-->
	</div>
	<!-- Add Department Modal -->

</div> <!-- users div - -->

	<!-- core js -->
	<script type="text/javascript" src="../js/department.js"></script>
	<script type="text/javascript" src="../js/user.js"></script>
	<script type="text/javascript" src="../js/core.js"></script>
	<script type="text/javascript" src="../js/company.js"></script>




		<script>
			$(document).ready(function() {
				getAllTickets();
				$('#users').hide();
			});
		</script>
</body>
</html>
